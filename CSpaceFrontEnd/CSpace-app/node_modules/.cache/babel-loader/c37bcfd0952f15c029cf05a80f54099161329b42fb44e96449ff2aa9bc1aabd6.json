{"ast":null,"code":"const fetchComments = async () => {\n  try {\n    const res = await api.get(`/api/comments/${requirement.id}`);\n    setComments(res.data);\n  } catch (err) {\n    console.error('Error fetching comments:', err);\n  }\n};\nconst handleAddComment = async e => {\n  e.preventDefault();\n  if (!newComment.trim()) return;\n  setLoading(true);\n  try {\n    await api.post('/api/comments', {\n      requirementId: requirement.id,\n      // Make sure this matches backend\n      content: newComment\n    });\n    setNewComment('');\n    fetchComments();\n  } catch (err) {\n    console.error('Error adding comment:', err);\n    alert('Failed to add comment');\n  } finally {\n    setLoading(false);\n  }\n};\nconst handleStatusChange = async newStatus => {\n  if (!isOwner) {\n    alert('Only project owner can change status');\n    return;\n  }\n  try {\n    await api.put(`/api/requirements/${requirement.id}/status/${newStatus}`);\n    onRefresh();\n    onClose();\n  } catch (err) {\n    console.error('Error updating status:', err);\n    alert('Failed to update status');\n  }\n};","map":{"version":3,"names":["fetchComments","res","api","get","requirement","id","setComments","data","err","console","error","handleAddComment","e","preventDefault","newComment","trim","setLoading","post","requirementId","content","setNewComment","alert","handleStatusChange","newStatus","isOwner","put","onRefresh","onClose"],"sources":["D:/Project Management/CSpaceFrontEnd/my-app/src/components/RequirementDetailsModal.js"],"sourcesContent":["const fetchComments = async () => {\r\n  try {\r\n    const res = await api.get(`/api/comments/${requirement.id}`);\r\n    setComments(res.data);\r\n  } catch (err) {\r\n    console.error('Error fetching comments:', err);\r\n  }\r\n};\r\n\r\nconst handleAddComment = async (e) => {\r\n  e.preventDefault();\r\n  if (!newComment.trim()) return;\r\n\r\n  setLoading(true);\r\n  try {\r\n    await api.post('/api/comments', {\r\n      requirementId: requirement.id, // Make sure this matches backend\r\n      content: newComment\r\n    });\r\n    setNewComment('');\r\n    fetchComments();\r\n  } catch (err) {\r\n    console.error('Error adding comment:', err);\r\n    alert('Failed to add comment');\r\n  } finally {\r\n    setLoading(false);\r\n  }\r\n};\r\n\r\nconst handleStatusChange = async (newStatus) => {\r\n  if (!isOwner) {\r\n    alert('Only project owner can change status');\r\n    return;\r\n  }\r\n\r\n  try {\r\n    await api.put(`/api/requirements/${requirement.id}/status/${newStatus}`);\r\n    onRefresh();\r\n    onClose();\r\n  } catch (err) {\r\n    console.error('Error updating status:', err);\r\n    alert('Failed to update status');\r\n  }\r\n};"],"mappings":"AAAA,MAAMA,aAAa,GAAG,MAAAA,CAAA,KAAY;EAChC,IAAI;IACF,MAAMC,GAAG,GAAG,MAAMC,GAAG,CAACC,GAAG,CAAC,iBAAiBC,WAAW,CAACC,EAAE,EAAE,CAAC;IAC5DC,WAAW,CAACL,GAAG,CAACM,IAAI,CAAC;EACvB,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZC,OAAO,CAACC,KAAK,CAAC,0BAA0B,EAAEF,GAAG,CAAC;EAChD;AACF,CAAC;AAED,MAAMG,gBAAgB,GAAG,MAAOC,CAAC,IAAK;EACpCA,CAAC,CAACC,cAAc,CAAC,CAAC;EAClB,IAAI,CAACC,UAAU,CAACC,IAAI,CAAC,CAAC,EAAE;EAExBC,UAAU,CAAC,IAAI,CAAC;EAChB,IAAI;IACF,MAAMd,GAAG,CAACe,IAAI,CAAC,eAAe,EAAE;MAC9BC,aAAa,EAAEd,WAAW,CAACC,EAAE;MAAE;MAC/Bc,OAAO,EAAEL;IACX,CAAC,CAAC;IACFM,aAAa,CAAC,EAAE,CAAC;IACjBpB,aAAa,CAAC,CAAC;EACjB,CAAC,CAAC,OAAOQ,GAAG,EAAE;IACZC,OAAO,CAACC,KAAK,CAAC,uBAAuB,EAAEF,GAAG,CAAC;IAC3Ca,KAAK,CAAC,uBAAuB,CAAC;EAChC,CAAC,SAAS;IACRL,UAAU,CAAC,KAAK,CAAC;EACnB;AACF,CAAC;AAED,MAAMM,kBAAkB,GAAG,MAAOC,SAAS,IAAK;EAC9C,IAAI,CAACC,OAAO,EAAE;IACZH,KAAK,CAAC,sCAAsC,CAAC;IAC7C;EACF;EAEA,IAAI;IACF,MAAMnB,GAAG,CAACuB,GAAG,CAAC,qBAAqBrB,WAAW,CAACC,EAAE,WAAWkB,SAAS,EAAE,CAAC;IACxEG,SAAS,CAAC,CAAC;IACXC,OAAO,CAAC,CAAC;EACX,CAAC,CAAC,OAAOnB,GAAG,EAAE;IACZC,OAAO,CAACC,KAAK,CAAC,wBAAwB,EAAEF,GAAG,CAAC;IAC5Ca,KAAK,CAAC,yBAAyB,CAAC;EAClC;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}